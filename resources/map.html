<!DOCTYPE html>
<html>

<head>
  <style type="text/css"> 
    html { height: 100% } 
    body { height: 100%; margin: 0px; padding: 0px } 
    #map_canvas { height: 100% } 
  </style>
  
  <script type="text/javascript" src="https://combinatronics.com/cadetill/gmlib_v2/master/resources/map.js" charset="utf-8"></script>
  <script type="text/javascript" src="https://combinatronics.com/cadetill/gmlib_v2/master/resources/transform.js" charset="utf-8"></script>
  <script type="text/javascript" src="https://combinatronics.com/cadetill/gmlib_v2/master/resources/latlngbounds.js" charset="utf-8"></script>

</head>

<body>


  <p>
    <button onclick="setMapOptions(41.656264, -0.8790698, 12)">SetOptions</button>
    <button onclick="readEventsMapForm()">copy3</button>
  </p>
     
  
  <form action="#" id="eventsMap" name="eventsMap"> 
    <input type="hidden" id="eventsMapEventFired" name="eventsMapEventFired" value="0"/> 

    <input type="hidden" id="eventsMapLat" name="eventsMapLat" value="0"/> 
    <input type="hidden" id="eventsMapLng" name="eventsMapLng" value="0"/> 
    <input type="hidden" id="eventsMapX" name="eventsMapX" value="0"/> 
    <input type="hidden" id="eventsMapY" name="eventsMapY" value="0"/> 
    <input type="hidden" id="eventsMapCenterChange" name="eventsMapCenterChange" value="0"/> 
    <input type="hidden" id="eventsMapClick" name="eventsMapClick" value="0"/> 
    <input type="hidden" id="eventsMapContextmenu" name="eventsMapContextmenu" value="0"/> 
    <input type="hidden" id="eventsMapDblclick" name="eventsMapDblclick" value="0"/> 
    <input type="hidden" id="eventsMapMouseMove" name="eventsMapMouseMove" value="0"/> 
    <input type="hidden" id="eventsMapMouseOut" name="eventsMapMouseOut" value="0"/> 
    <input type="hidden" id="eventsMapMouseOver" name="eventsMapMouseOver" value="0"/> 

    <input type="hidden" id="eventsMapDrag" name="eventsMapDrag" value="0"/> 
    <input type="hidden" id="eventsMapDragEnd" name="eventsMapDragEnd" value="0"/> 
    <input type="hidden" id="eventsMapDragStart" name="eventsMapDragStart" value="0"/> 

    <input type="hidden" id="eventsMapMapTypeId" name="eventsMapMapTypeId" value=""/> 
    <input type="hidden" id="eventsMapMapTypeId_changed" name="eventsMapMapTypeId_changed" value="0"/> 

    <input type="hidden" id="eventsMapTilesLoaded" name="eventsMapTilesLoaded" value="0"/> 

    <input type="hidden" id="eventsMapSwLat" name="eventsMapSwLat" value="0"/> 
    <input type="hidden" id="eventsMapSwLng" name="eventsMapSwLng" value="0"/> 
    <input type="hidden" id="eventsMapNeLat" name="eventsMapNeLat" value="0"/> 
    <input type="hidden" id="eventsMapNeLng" name="eventsMapNeLng" value="0"/> 
    <input type="hidden" id="eventsMapBoundsChange" name="eventsMapBoundsChange" value="0"/> 

    <input type="hidden" id="eventsMapZoom" name="eventsMapZoom" value="0"/> 
    <input type="hidden" id="eventsMapZoomChanged" name="eventsMapZoomChanged" value="0"/> 
  </form> 

  <form action="#" id="llbResults" name="llbResults"> 
    <input type="hidden" id="llbResultsMapisnull" name="llbResultsMapisnull" value="0"/> 
    <input type="hidden" id="llbResultsBoolVal" name="llbResultsBoolVal" value="0"/> 
    <input type="hidden" id="llbResultsSwLat" name="llbResultsSwLat" value="0"/> 
    <input type="hidden" id="llbResultsSwLng" name="llbResultsSwLng" value="0"/> 
    <input type="hidden" id="llbResultsNeLat" name="llbResultsNeLat" value="0"/> 
    <input type="hidden" id="llbResultsNeLng" name="llbResultsNeLng" value="0"/> 
    <input type="hidden" id="llbResultsLat" name="llbResultsLat" value="0"/> 
    <input type="hidden" id="llbResultsLng" name="llbResultsLng" value="0"/> 
  </form> 
 
  <div id="googleMap" style="width:100%;height:100%;"></div>

  <script type="text/javascript">
    function myMap() {
	  if (mapOptions == null)
        var mapOptions = {
                      center:new google.maps.LatLng(42.49881979446825, 1.5236084423795448),
                      zoom: 10
                     };
      map = new google.maps.Map(document.getElementById("googleMap"), mapOptions);
      
      mapAssignEvents();
    }

  function readEventsMapForm() {
    var formData = $('#eventsMap').serializeObject(); alert(formData);
    $.extend(formData, { Contacts : myContacts});
    $.extend(formData, { Address : myAddress});
    var result = JSON.stringify(formData);
    
    var formData = 
        'eventsMapEventFired_' + document.getElementById('eventsMapEventFired').value + '|' +
        'eventsMapLat_' + document.getElementById('eventsMapLat').value + '|' +
        'eventsMapLng_' + document.getElementById('eventsMapLng').value + '|' +
        'eventsMapX_' + document.getElementById('eventsMapX').value + '|' +
        'eventsMapY_' + document.getElementById('eventsMapY').value + '|' +
        'eventsMapCenterChange_' + document.getElementById('eventsMapCenterChange').value + '|' +
        'eventsMapClick_' + document.getElementById('eventsMapClick').value + '|' +
        'eventsMapContextmenu_' + document.getElementById('eventsMapContextmenu').value + '|' +
        'eventsMapDblclick_' + document.getElementById('eventsMapDblclick').value + '|' +
        'eventsMapMouseMove_' + document.getElementById('eventsMapMouseMove').value + '|' +
        'eventsMapMouseOut_' + document.getElementById('eventsMapMouseOut').value + '|' +
        'eventsMapMouseOver_' + document.getElementById('eventsMapMouseOver').value + '|' +
        'eventsMapDrag_' + document.getElementById('eventsMapDrag').value + '|' +
        'eventsMapDragEnd_' + document.getElementById('eventsMapDragEnd').value + '|' +
        'eventsMapDragStart_' + document.getElementById('eventsMapDragStart').value + '|' +
        'eventsMapMapTypeId_' + document.getElementById('eventsMapMapTypeId').value + '|' +
        'eventsMapMapTypeId_changed_' + document.getElementById('eventsMapMapTypeId_changed').value + '|' +
        'eventsMapTilesLoaded_' + document.getElementById('eventsMapTilesLoaded').value + '|' +
        'eventsMapSwLat_' + document.getElementById('eventsMapSwLat').value + '|' +
        'eventsMapSwLng_' + document.getElementById('eventsMapSwLng').value + '|' +
        'eventsMapNeLat_' + document.getElementById('eventsMapNeLat').value + '|' +
        'eventsMapNeLng_' + document.getElementById('eventsMapNeLng').value + '|' +
        'eventsMapBoundsChange_' + document.getElementById('eventsMapBoundsChange').value + '|' +
        'eventsMapZoom_' + document.getElementById('eventsMapZoom').value + '|' +
        'eventsMapZoomChanged_' + document.getElementById('eventsMapZoomChanged').value;
        
  alert(formData);
  console.log(formData);
  if (formData.length >= 1) 
    window.chrome.webview.postMessage(formData);
}
</script>
<!--
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=weekly&key=&region=ES&language=ca"></script>
--> 

  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=API_VER&key=API_KEY&region=API_REGION&language=API_LAN"></script>

  <form action="#" id="eventsMap" name="eventsMap">
    <input type="hidden" name="test" value="0"/>
  </form> 
  

</body>
</html>
